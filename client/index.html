<!DOCTYPE html>
<title>CRUD Chat</title>
<link rel="stylesheet" href="style.css">
<h1>CRUD Chat</h1>
<section rv-show="view | is list">
	<h2>Threads <button rv-on-click="view_create">Create</button></h2>
	<article class="thread" rv-each-thread="threads" rv-data-id="thread._id" rv-on-click="load_thread">
		<h3 class="thread-title">{thread.title} <small>by {thread.user}</small></h3>
		<p>{thread.content}</p>
	</article>
</section>
<section rv-show="view | is create">
	<h2>Create a new thead <button rv-on-click="view_list">Back</button></h2>
	<form rv-on-submit="create_thread">
		<div class="input-set">
			<label>Name:</label>
			<input rv-value="user">
		</div>
		<div class="input-set">
			<label>Title:</label>
			<input rv-value="new_thread_title">
		</div>
		<div class="input-set">
			<label>Content:</label>
			<textarea rv-value="new_thread_content"></textarea>
		</div>
		<button>Submit</button>
	</form>
</section>
<section rv-show="view | is thread">
	<h2>{thread.title} <button rv-on-click="view_list">Back</button></h2>
	<fieldset>
		<legend>{thread.user}</legend>
		<p>{thread.content}</p>
	</fieldset>
	<fieldset rv-each-comment="thread.comments">
		<legend>by {comment.user}</legend>
		<button class="delete" rv-on-click="delete_comment" rv-data-id="comment._id">X</button>
		<p>{comment.content}</p>
	</fieldset>
	<form rv-on-submit="create_comment">
		<div class="input-set">
			<label>Name:</label>
			<input rv-value="user">
		</div>
		<div class="input-set">
			<label>Content:</label>
			<textarea rv-value="new_comment"></textarea>
		</div>
		<button>Comment</button>
	</form>
	</form>
</section>
<script src="bower_components/es6-promise/promise.min.js"></script>
<script src="bower_components/superagent/superagent.js"></script>
<script src="bower_components/rivets/dist/rivets.min.js"></script>
<script src="api.js"></script>
<script src="index.js"></script>
